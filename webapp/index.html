<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lavander Shop</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –±–µ–∑ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body class="bg-gradient-to-b from-purple-100 to-purple-200 min-h-screen flex flex-col">
  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <header class="bg-purple-600 text-white p-4 text-center shadow-lg">
    <h1 class="text-2xl font-bold">Lavander Shop</h1>
    <p class="text-sm mt-1">–ú–∞–≥–∞–∑–∏–Ω –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è</p>
  </header>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ -->
  <main class="flex-1 p-4 overflow-y-auto no-scrollbar">
    <div id="products-container" class="grid grid-cols-2 gap-4">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å —á–µ—Ä–µ–∑ JS -->
    </div>
  </main>

  <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
  <footer class="bg-purple-600 text-white p-4 text-center">
    <p class="text-sm">¬© 2025 Lavender Shop</p>
  </footer>

  <script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
    async function loadProducts() {
      try {
        const response = await fetch('/api/products');
        const products = await response.json();

        const productsContainer = document.getElementById('products-container');
        productsContainer.innerHTML = ''; // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

        if (products.length === 0) {
          productsContainer.innerHTML = `
            <div class="col-span-2 text-center text-gray-600 py-4">
              <p>–¢–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç üòî</p>
            </div>
          `;
          return;
        }

        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
        products.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'bg-white rounded-lg shadow-md p-4 flex flex-col items-center hover:shadow-lg transition-shadow';
          productCard.innerHTML = `
            <div class="w-full h-40 bg-gray-200 rounded-lg mb-2 flex items-center justify-center">
              <span class="text-gray-500">üì∑ –ù–µ—Ç —Ñ–æ—Ç–æ</span>
            </div>
            <h3 class="text-lg font-semibold text-purple-700 text-center">${product.name}</h3>
            <p class="text-gray-600 text-sm text-center mt-1">${product.description || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'}</p>
            <p class="text-purple-600 font-bold mt-2">${product.price} –≥—Ä–Ω</p>
            <p class="text-gray-500 text-sm mt-1">–û—Å—Ç–∞—Ç–æ–∫: ${product.stock}</p>
            <button class="mt-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">
              –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
            </button>
          `;
          productsContainer.appendChild(productCard);
        });
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤:', error);
        document.getElementById('products-container').innerHTML = `
          <div class="col-span-2 text-center text-red-600 py-4">
            <p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤: ${error.message}</p>
          </div>
        `;
      }
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.onload = loadProducts;
  </script>
</body>
</html>